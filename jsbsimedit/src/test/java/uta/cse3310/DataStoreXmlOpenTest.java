package uta.cse3310;

import org.junit.jupiter.api.Test;
import static org.assertj.core.api.Assertions.*;
import java.io.File;

public class DataStoreXmlOpenTest {

    @Test
    void create_save_and_reload_xml() throws Exception {
        DataStore ds = new DataStore();
        ds.createNew();

        // Save it
        File file = ds.saveToTemp();
        assertThat(file).exists().canRead();

        // Reload in new DataStore
        DataStore ds2 = new DataStore();
        ds2.openFile(file.getAbsolutePath());

        assertThat(ds2.valid).isTrue();
        assertThat(ds2.cfg).isNotNull();
        assertThat(ds2.cfg.getName()).isEqualTo("TestAircraft");

        file.delete();
    }
}
